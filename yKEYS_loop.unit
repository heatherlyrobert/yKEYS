#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                yKEYS.h                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include private header               yKEYS_priv.h                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (LOOP) verify basic delay and update setting                       ykeys_loop_delay, ykeys_loop_update, yKEYS_loop_set                                                   ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize testing                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        ykeys__unit_quiet                                                                                                                 i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          

   COND       verify literal delay changes                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((08.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     change delay                         ykeys_loop_delay            "keys"                                                                                                i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : keys  0.000000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (FAIL)                  ykeys_loop_delay            "jojo"                                                                                                i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : keys  0.000000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay                         ykeys_loop_delay            "1us"                                                                                                 i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 1us   0.000001 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay                         ykeys_loop_delay            "500us"                                                                                               i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 500us 0.000500 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (FAIL)                  ykeys_loop_delay            "key"                                                                                                 i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 500us 0.000500 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay                         ykeys_loop_delay            "5ms"                                                                                                 i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 5ms   0.005000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay                         ykeys_loop_delay            "100ms"                                                                                               i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 100ms 0.100000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (FAIL)                  ykeys_loop_delay            NULL                                                                                                  i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 100ms 0.100000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay                         ykeys_loop_delay            "1s"                                                                                                  i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 1s    1.000000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (FAIL)                  ykeys_loop_delay            "---"                                                                                                 i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 1s    1.000000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          

   COND       verify cursor delay changes                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((08.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     change delay (head)                  ykeys_loop_delay            "["                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : keys  0.000000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (BOOM against head)     ykeys_loop_delay            "<"                                                                                                   i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : keys  0.000000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (next)                  ykeys_loop_delay            ">"                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 1us   0.000001 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (next)                  ykeys_loop_delay            ">"                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10us  0.000010 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (current)               ykeys_loop_delay            "."                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10us  0.000010 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (tail)                  ykeys_loop_delay            "]"                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 1s    1.000000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (BOOM against tail)     ykeys_loop_delay            ">"                                                                                                   i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 1s    1.000000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (prev)                  ykeys_loop_delay            "<"                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 100ms 0.100000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (prev)                  ykeys_loop_delay            "<"                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 50ms  0.050000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change delay (FAIL)                  ykeys_loop_delay            "0"                                                                                                   i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 50ms  0.050000 ¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          

   COND       put delay back to default                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((08.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     change delay                         ykeys_loop_delay            "10ms"                                                                                                i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 100ms ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          

   COND       verify literal update changes                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((08.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     change update                        ykeys_loop_update           "every"                                                                                               i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, every ··0.0000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (FAIL)                 ykeys_loop_update           "cabal"                                                                                               i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, every ··0.0000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update                        ykeys_loop_update           "10ms"                                                                                                i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 10ms  ··0.0100,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update                        ykeys_loop_update           "20ms"                                                                                                i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 20ms  ··0.0200,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (BOOM)                 ykeys_loop_update           "ever"                                                                                                i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 20ms  ··0.0200,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update                        ykeys_loop_update           "100ms"                                                                                               i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 100ms ··0.1000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update                        ykeys_loop_update           "500ms"                                                                                               i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 500ms ··0.5000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (FAIL)                 ykeys_loop_update           NULL                                                                                                  i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 500ms ··0.5000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update                        ykeys_loop_update           "5s"                                                                                                  i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 5s    ··5.0000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (FAIL)                 ykeys_loop_update           "---"                                                                                                 i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 5s    ··5.0000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          

   COND       verify cursor update changes                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((08.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     change update (head)                  ykeys_loop_update           "["                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, every ··0.0000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (BOOM against head)     ykeys_loop_update           "<"                                                                                                   i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, every ··0.0000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (next)                  ykeys_loop_update           ">"                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 10ms  ··0.0100,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (next)                  ykeys_loop_update           ">"                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 20ms  ··0.0200,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (current)               ykeys_loop_update           "."                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 20ms  ··0.0200,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (tail)                  ykeys_loop_update           "]"                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 100s  100.0000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (BOOM against tail)     ykeys_loop_update           ">"                                                                                                   i_lesser    0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 100s  100.0000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (prev)                  ykeys_loop_update           "<"                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 5s    ··5.0000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (prev)                  ykeys_loop_update           "<"                                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  ¬¬¬¬¬¬¬¬¬¬¬, 2s    ··2.0000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change update (FAIL)                  ykeys_loop_update           "0"                                                                                                   i_lesser    0                                                                                                    

   COND       verify setting simultaneously                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((08.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     change settings                       yKEYS_loop_set              "10ms"        , "100ms"                                                                               i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  0.010000  0, 100ms ··0.1000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change settings                       yKEYS_loop_set              ">"           , "<"                                                                                   i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 20ms  0.020000  0, 50ms  ··0.0500,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          
     exec     change settings                       yKEYS_loop_set              "="           , "500ms"                                                                               i_equal     0                                                                                                    
     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 20ms  0.020000  0, 500ms ··0.5000,¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬                          

   COND       verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((08.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         ykeys__unit_end                                                                                                                   i_equal     0                                                                                                    


#     get      ... loop status                      yKEYS__unit                 "loop"         , 0                                                                                    s_equal     KEYS loop        : 10ms  0.000000 ··, 100ms ········, 0s 12345678ns, ···· -                          

